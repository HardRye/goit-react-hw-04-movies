(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{30:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(37),r=a.n(n),c="9675092798f3a490a8c4d8f2cf77169b",i=function(){return r.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(c,"\n  ")).then((function(e){return e.data}))},o=function(e){return r.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"\n  ")).then((function(e){return e.data}))},l=function(e){return r.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(c,"\n  ")).then((function(e){return e.data}))},s=function(e){return r.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(c,"\n  ")).then((function(e){return e.data}))},u=function(e){return r.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=").concat(c,"\n  ")).then((function(e){return e.data}))}},80:function(e,t,a){e.exports={list:"Cast_list__14K-c",item:"Cast_item__1_6PB",imageWrapper:"Cast_imageWrapper__-UCzk",image:"Cast_image__2wXLC"}},81:function(e,t,a){e.exports={container:"MovieDetailsPage_container__107f8",returnBtn:"MovieDetailsPage_returnBtn__apsZj",list:"MovieDetailsPage_list__3qLde",item:"MovieDetailsPage_item__24shA",activeItem:"MovieDetailsPage_activeItem__1lRE9"}},87:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var n=a(31),r=a(32),c=a(34),i=a(33),o=a(0),l=a.n(o),s=a(8),u=a(1),m=a(30),h=a(80),p=a.n(h),v=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={cast:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;Object(m.c)(t).then((function(t){return e.setState({cast:t.cast})}))}},{key:"render",value:function(){var e=this.state.cast;return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement("ul",{className:p.a.list},e.map((function(e){return l.a.createElement("li",{key:e.id,className:p.a.item},l.a.createElement("div",{className:p.a.imageWrapper},l.a.createElement("img",{src:"".concat("https://image.tmdb.org/t/p/original").concat(e.profile_path),alt:"",className:p.a.image})),l.a.createElement("h4",null,e.name),e.character&&l.a.createElement("p",null,"Character: ",e.character))}))),0===e.length&&l.a.createElement("h4",null,"Sorry, we don't have any data about casts for this movie"))}}]),a}(o.Component),f=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={reviews:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;Object(m.d)(t).then((function(t){return e.setState({reviews:t.results})}))}},{key:"render",value:function(){var e=this.state.reviews;return l.a.createElement(l.a.Fragment,null,e&&l.a.createElement("ul",null,e.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("h4",null,"Author: ",e.author),l.a.createElement("p",null,e.content))}))),0===e.length&&l.a.createElement("h4",null,"Sorry, we don't have any reviews on this movie"))}}]),a}(o.Component),d=a(81),g=a.n(d),E=Object(o.lazy)((function(){return a.e(3).then(a.bind(null,86))})),_=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={movie:null,error:null},e.handleReturnButton=function(){var t=e.props,a=t.history,n=t.location;return n.state?a.push(n.state.from):a.push("/")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;Object(m.a)(t).then((function(t){return e.setState({movie:t})})).catch((function(t){return e.setState({error:t.response})}))}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.error,n=this.props,r=n.match,c=n.location;return l.a.createElement("div",{className:g.a.container},l.a.createElement("button",{type:"button",onClick:this.handleReturnButton,className:g.a.returnBtn},l.a.createElement("i",{className:"fa fa-arrow-left"})),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Error ".concat(a.status)),l.a.createElement("h3",null,a.data.status_message)),l.a.createElement(o.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{movie:t}),l.a.createElement("h3",null,"Additonal information"),l.a.createElement("ul",{className:g.a.list},l.a.createElement("li",null,l.a.createElement(s.c,{to:{pathname:"".concat(r.url,"/cast"),state:{from:c.state.from}},className:g.a.item,activeClassName:g.a.activeItem},"Cast")),l.a.createElement("li",null,l.a.createElement(s.c,{to:{pathname:"".concat(r.url,"/reviews"),state:{from:c.state.from}},className:g.a.item,activeClassName:g.a.activeItem},"Reviews"))),l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"".concat(r.path,"/cast"),component:v}),l.a.createElement(u.a,{path:"".concat(r.path,"/reviews"),component:f})))))}}]),a}(o.Component)}}]);
//# sourceMappingURL=movie-details-page.b3f88d78.chunk.js.map