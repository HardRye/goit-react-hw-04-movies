{"version":3,"sources":["services/moviesAPI.js","components/Cast/Cast.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/Cast/Cast.js","components/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js"],"names":["API_KEY","getTrending","axios","get","then","res","data","getMovieById","id","getMovieCastById","getMovieReviewsById","getMovieByQuery","query","module","exports","Cast","state","cast","this","props","match","params","movieId","setState","className","styles","list","map","c","key","item","imageWrapper","src","profile_path","alt","image","name","character","length","Component","Reviews","reviews","results","r","author","content","MovieDetails","lazy","MovieDetailsPage","movie","error","handleReturnButton","history","location","push","from","catch","response","container","type","onClick","returnBtn","status","status_message","fallback","to","pathname","url","activeClassName","activeItem","path","component"],"mappings":"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","file":"static/js/movie-details-page.b3f88d78.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '9675092798f3a490a8c4d8f2cf77169b';\n// axios.defaults.baseURL = 'https://developers.themoviedb.org/3';\n\nexport const getTrending = () =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieCastById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieReviewsById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieByQuery = query =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Cast_list__14K-c\",\"item\":\"Cast_item__1_6PB\",\"imageWrapper\":\"Cast_imageWrapper__-UCzk\",\"image\":\"Cast_image__2wXLC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__107f8\",\"returnBtn\":\"MovieDetailsPage_returnBtn__apsZj\",\"list\":\"MovieDetailsPage_list__3qLde\",\"item\":\"MovieDetailsPage_item__24shA\",\"activeItem\":\"MovieDetailsPage_activeItem__1lRE9\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getMovieCastById } from '../../services/moviesAPI';\nimport styles from './Cast.module.css';\n\nconst posterPath = `https://image.tmdb.org/t/p/original`;\n\nexport default class Cast extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    cast: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    // const { movieId: id } = this.props;\n\n    getMovieCastById(id).then(data => this.setState({ cast: data.cast }));\n  }\n\n  render() {\n    const { cast } = this.state;\n\n    return (\n      <>\n        {cast && (\n          <ul className={styles.list}>\n            {cast.map(c => (\n              <li key={c.id} className={styles.item}>\n                <div className={styles.imageWrapper}>\n                  <img\n                    src={`${posterPath}${c.profile_path}`}\n                    alt=\"\"\n                    className={styles.image}\n                  />\n                </div>\n                <h4>{c.name}</h4>\n                {c.character && <p>Character: {c.character}</p>}\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {cast.length === 0 && (\n          <h4>Sorry, we don&apos;t have any data about casts for this movie</h4>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getMovieReviewsById } from '../../services/moviesAPI';\n\nexport default class Reviews extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    reviews: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    // const { movieId: id } = this.props;\n\n    getMovieReviewsById(id).then(data =>\n      this.setState({ reviews: data.results }),\n    );\n  }\n\n  render() {\n    const { reviews } = this.state;\n\n    return (\n      <>\n        {reviews && (\n          <ul>\n            {reviews.map(r => (\n              <li key={r.id}>\n                <h4>Author: {r.author}</h4>\n                <p>{r.content}</p>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {reviews.length === 0 && (\n          <h4>Sorry, we don&apos;t have any reviews on this movie</h4>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component, lazy, Suspense } from 'react';\nimport { Switch, Route, NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n// import MovieDetails from '../components/MovieDetails/MovieDetails';\n// import NotFoundPage from '../pages/NotFoundPage';\nimport Cast from '../../components/Cast/Cast';\nimport Reviews from '../../components/Reviews/Reviews';\nimport { getMovieById } from '../../services/moviesAPI';\n\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieDetails = lazy(() =>\n  import(\n    '../../components/MovieDetails/MovieDetails' /* webpackChunkName: \"movie-details\" */\n  ),\n);\n// const NotFoundPage = lazy(() =>\n//   import('../pages/NotFoundPage' /* webpackChunkName: \"not-found-page\" */),\n// );\n\nexport default class MovieDetailsPage extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      url: PropTypes.string.isRequired,\n      path: PropTypes.string.isRequired,\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({\n      state: PropTypes.shape({\n        from: PropTypes.shape(),\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movie: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    getMovieById(id)\n      .then(data => this.setState({ movie: data }))\n      .catch(error => this.setState({ error: error.response }));\n  }\n\n  handleReturnButton = () => {\n    const { history, location } = this.props;\n\n    if (location.state) {\n      return history.push(location.state.from);\n    }\n\n    return history.push('/');\n  };\n\n  render() {\n    const { movie, error } = this.state;\n    const { match, location } = this.props;\n    // console.log(this.props);\n\n    return (\n      <div className={styles.container}>\n        <button\n          type=\"button\"\n          onClick={this.handleReturnButton}\n          className={styles.returnBtn}\n        >\n          <i className=\"fa fa-arrow-left\" />\n          {/* &ensp;Return */}\n        </button>\n\n        {error && (\n          <>\n            <h2>{`Error ${error.status}`}</h2>\n            <h3>{error.data.status_message}</h3>\n          </>\n        )}\n\n        <Suspense fallback={<div>Loading...</div>}>\n          {movie && (\n            <>\n              <MovieDetails movie={movie} />\n\n              <h3>Additonal information</h3>\n              <ul className={styles.list}>\n                <li>\n                  <NavLink\n                    to={{\n                      pathname: `${match.url}/cast`,\n                      state: { from: location.state.from },\n                    }}\n                    className={styles.item}\n                    activeClassName={styles.activeItem}\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n\n                <li>\n                  <NavLink\n                    to={{\n                      pathname: `${match.url}/reviews`,\n                      state: { from: location.state.from },\n                    }}\n                    className={styles.item}\n                    activeClassName={styles.activeItem}\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n\n              <Switch>\n                <Route path={`${match.path}/cast`} component={Cast} />\n                <Route path={`${match.path}/reviews`} component={Reviews} />\n              </Switch>\n            </>\n          )}\n        </Suspense>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}